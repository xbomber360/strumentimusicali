<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Nuovo Prodotto</title>
        <ui:include src="Header.xhtml"/>
    </h:head>
    <h:body>
        #{redirect.redirectGestoreMagazzino(gestioneSito , "Login.jsf")}
        <p:panel id="panel" header="Completa i campi per aggiungere un nuovo prodotto in magazzino" style="margin-bottom:10px;">
        <h:form> 
            <h:panelGrid id="grid" columns="2" cellpadding="5">

                <h:outputText value="Modello:"/>
                <p:inputText label="Modello" required="true" value="#{gestioneProdottoBean.nome}"/>

                <h:outputText value="Marca:"/>
                <p:autoComplete id="marca" required="true" value="#{gestioneProdottoBean.marcaSelezionata}" completeMethod="#{gestioneProdottoBean.marcaUpdate}"/>

                <h:outputText value="Categoria:"/>
                <p:autoComplete id= "categoria" required="true" value="#{gestioneProdottoBean.categoriaSelezionata}"  completeMethod="#{gestioneProdottoBean.categoriaUpdate}"/>
                
                <h:outputText value="Url Foto:"/>
                <p:inputText label="Foto" required="true" value="#{gestioneProdottoBean.urlFoto}" />

                <h:outputText value="Quantità:"/>
                <p:inputText label="Quantità" required="true" value="#{gestioneProdottoBean.quantita}" />

                <h:outputText value="Prezzo:"/>
                <p:inputText label="Prezzo" required="true" value="#{gestioneProdottoBean.prezzo}"/>
            </h:panelGrid>
            
            <h:outputText value="Descrizione:"/>
            <p:editor id="editor" widgetVar="editorWidget" value="#{gestioneProdottoBean.descrizione}" width="800" />
            <h:panelGrid columns="2" style="margin-top: 10px">
                <p:commandButton value="Aggiungi Prodotto" update="grid" action="#{gestioneProdottoBean.inserisciProdotto()}" icon="ui-icon-disk" />

                <p:commandButton value="Cancella" type="button" onclick="PF('editorWidget').clear();" icon="ui-icon-close" />
            </h:panelGrid>

        </h:form> 
                                        </p:panel>

    </h:body>
</html>

